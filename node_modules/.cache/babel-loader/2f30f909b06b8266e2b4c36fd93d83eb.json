{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\g-project\\\\src\\\\components\\\\Footer\\\\ResultShow\\\\index.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Chart } from '@antv/g2'; //引入组件\n\nimport { Table } from 'antd'; //引入css文件\n\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Column,\n  ColumnGroup\n} = Table;\n\nclass ReasultShow extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentWillReceiveProps = () => {\n      let update = function () {\n        let data = [];\n        const result = this.props.resultData;\n\n        if (result[0] != '' && result[0] !== undefined && result != '') {\n          for (let i = 1; i <= this.props.sendData.N; i++) {\n            data.push({\n              key: i,\n              touchEvents: result[0][i],\n              totalClicks: result[1][i],\n              clickRate: `${result[2][i]} (${result[3][i] * 100 + '%'})`,\n              durationDistr: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: `c${i}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 43,\n                columnNumber: 40\n              }, this),\n              stepLengthDistr: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: `C${i}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 42\n              }, this),\n              // durationDistr: result[4][i],\n              // stepLengthDistr: result[5][i],\n              valueRealization: result[6][i],\n              contributionRate: result[7][i]\n            });\n          }\n        }\n\n        return data;\n      };\n\n      update = update.bind(this);\n      let data = update();\n      this.setState({\n        data\n      });\n    };\n\n    this.showColumn = () => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ColumnGroup, {\n          title: \"\\u5F85\\u5F52\\u56E0\\u4E8B\\u4EF6\",\n          children: /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u89E6\\u70B9\\u4E8B\\u4EF6\",\n            dataIndex: \"touchEvents\"\n          }, \"touchEvents\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ColumnGroup, {\n          title: \"\\u70B9\\u51FB\\u89C4\\u6A21\",\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u603B\\u70B9\\u51FB\\u6570\",\n            dataIndex: \"totalClicks\"\n          }, \"totalClicks\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u6709\\u6548\\u70B9\\u51FB\\u7387\",\n            dataIndex: \"clickRate\"\n          }, \"clickRate\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ColumnGroup, {\n          title: \"\\u8F6C\\u5316\\u5206\\u5E03\",\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u8F6C\\u5316\\u65F6\\u957F\\u5206\\u5E03\",\n            dataIndex: \"durationDistr\"\n          }, \"durationDistr\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u8F6C\\u5316\\u6B65\\u957F\\u5206\\u5E03\",\n            dataIndex: \"stepLengthDistr\"\n          }, \"stepLengthDistr\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ColumnGroup, {\n          title: \"\\u76EE\\u6807\\u8F6C\\u5316\",\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u5B9E\\u73B0\\u4EF7\\u503C\",\n            dataIndex: \"valueRealization\"\n          }, \"valueRealization\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u8D21\\u732E\\u7387\",\n            dataIndex: \"contributionRate\"\n          }, \"contributionRate\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true);\n    };\n\n    this.state = {\n      data: [// {\n        //     key: '1',\n        //     touchEvents: 'John',\n        //     totalClicks: 'Brown',\n        //     clickRate: 32,\n        //     durationDistr: '',\n        //     stepLengthDistr: ['nice', 'developer'],\n        //     valueRealization: 'valueRealization',\n        //     contributionRate: 'contributionRate'\n        // }\n      ]\n    };\n  } //返回结果数据渲染到页面\n\n\n  componentDidUpdate() {\n    console.log(123123123);\n    const result = this.props.resultData; //转化时长\n\n    for (let i = 1; i <= 10; i++) {\n      console.log(result[4][0][0]);\n      const data = [{\n        year: '1991',\n        value: result[4][i - 1][0]\n      }, {\n        year: '1992',\n        value: result[4][i - 1][1]\n      }, {\n        year: '1993',\n        value: result[4][i - 1][2]\n      }, {\n        year: '1994',\n        value: result[4][i - 1][3]\n      }, {\n        year: '1995',\n        value: result[4][i - 1][4]\n      }, {\n        year: '1996',\n        value: result[4][i - 1][5]\n      }, {\n        year: '1997',\n        value: result[4][i - 1][6]\n      }, {\n        year: '1998',\n        value: result[4][i - 1][7]\n      }, {\n        year: '1999',\n        value: result[4][i - 1][8]\n      }, {\n        year: '1999',\n        value: result[4][i - 1][9]\n      }];\n      const chart = new Chart({\n        container: `c${i}`,\n        autoFit: true,\n        height: 100\n      });\n      chart.data(data);\n      chart.tooltip({\n        showMarkers: false\n      });\n      chart.interval().position('year*value');\n      chart.interaction('element-active');\n      chart.render();\n    } //转化步长\n\n\n    for (let i = 1; i <= 10; i++) {\n      const data = [{\n        year: '1991',\n        value: 3\n      }, {\n        year: '1992',\n        value: 4\n      }, {\n        year: '1993',\n        value: 3.5\n      }, {\n        year: '1994',\n        value: 5\n      }, {\n        year: '1995',\n        value: 4.9\n      }, {\n        year: '1996',\n        value: 6\n      }, {\n        year: '1997',\n        value: 7\n      }, {\n        year: '1998',\n        value: 9\n      }, {\n        year: '1999',\n        value: 13\n      }];\n      const chart = new Chart({\n        container: `C${i}`,\n        autoFit: true,\n        height: 100\n      });\n      chart.data(data);\n      chart.tooltip({\n        showMarkers: false\n      });\n      chart.interval().position('year*value');\n      chart.interaction('element-active');\n      chart.render();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        bordered: true,\n        dataSource: this.state.data,\n        className: \"reasult\",\n        pagination: {\n          position: ['bottomCenter'],\n          pageSize: 10,\n          // 只有一页是不显示分页按钮\n          hideOnSinglePage: true,\n          onChange: function (page) {\n            console.log(page);\n            setTimeout(function () {\n              //转化时长分布\n              for (let i = (page - 1) * 10 + 1; i <= page * 10; i++) {\n                const data = [{\n                  year: '1991',\n                  value: 3\n                }, {\n                  year: '1992',\n                  value: 4\n                }, {\n                  year: '1993',\n                  value: 3.5\n                }, {\n                  year: '1994',\n                  value: 5\n                }, {\n                  year: '1995',\n                  value: 4.9\n                }, {\n                  year: '1996',\n                  value: 6\n                }, {\n                  year: '1997',\n                  value: 7\n                }, {\n                  year: '1998',\n                  value: 9\n                }, {\n                  year: '1999',\n                  value: 13\n                }];\n                const chart = new Chart({\n                  container: `c${i}`,\n                  autoFit: true,\n                  height: 100\n                });\n                chart.data(data);\n                chart.tooltip({\n                  showMarkers: false\n                });\n                chart.interval().position('year*value');\n                chart.interaction('element-active');\n                chart.render();\n              } //转化步长分布\n\n\n              for (let i = (page - 1) * 10 + 1; i <= page * 10; i++) {\n                const data = [{\n                  year: '1991',\n                  value: 3\n                }, {\n                  year: '1992',\n                  value: 4\n                }, {\n                  year: '1993',\n                  value: 3.5\n                }, {\n                  year: '1994',\n                  value: 5\n                }, {\n                  year: '1995',\n                  value: 4.9\n                }, {\n                  year: '1996',\n                  value: 6\n                }, {\n                  year: '1997',\n                  value: 7\n                }, {\n                  year: '1998',\n                  value: 9\n                }, {\n                  year: '1999',\n                  value: 13\n                }];\n                const chart = new Chart({\n                  container: `C${i}`,\n                  autoFit: true,\n                  height: 100\n                });\n                chart.data(data);\n                chart.tooltip({\n                  showMarkers: false\n                });\n                chart.interval().position('year*value');\n                chart.interaction('element-active');\n                chart.render();\n              }\n            }, 0);\n          }\n        },\n        scroll: {\n          y: 290\n        },\n        tableLayout: \"fixed\",\n        style: {\n          minWidth: 700\n        },\n        children: this.showColumn()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ReasultShow;","map":{"version":3,"sources":["D:/code/g-project/src/components/Footer/ResultShow/index.js"],"names":["React","Component","Fragment","Chart","Table","Column","ColumnGroup","ReasultShow","constructor","props","componentWillReceiveProps","update","data","result","resultData","undefined","i","sendData","N","push","key","touchEvents","totalClicks","clickRate","durationDistr","stepLengthDistr","valueRealization","contributionRate","bind","setState","showColumn","state","componentDidUpdate","console","log","year","value","chart","container","autoFit","height","tooltip","showMarkers","interval","position","interaction","render","pageSize","hideOnSinglePage","onChange","page","setTimeout","y","minWidth"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { Chart } from '@antv/g2';\r\n\r\n//引入组件\r\nimport { Table } from 'antd';\r\n//引入css文件\r\nimport './style.css';\r\n\r\nconst { Column, ColumnGroup } = Table;\r\n\r\nclass ReasultShow extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [\r\n                // {\r\n                //     key: '1',\r\n                //     touchEvents: 'John',\r\n                //     totalClicks: 'Brown',\r\n                //     clickRate: 32,\r\n                //     durationDistr: '',\r\n                //     stepLengthDistr: ['nice', 'developer'],\r\n                //     valueRealization: 'valueRealization',\r\n                //     contributionRate: 'contributionRate'\r\n                // }\r\n            ]\r\n        }\r\n    }\r\n\r\n    //返回结果数据渲染到页面\r\n    componentWillReceiveProps = () => {\r\n        let update = function () {\r\n            let data = [];\r\n            const result = this.props.resultData\r\n            if (result[0] != '' && result[0] !== undefined && result != '') {\r\n                for (let i = 1; i <= this.props.sendData.N; i++) {\r\n                    data.push({\r\n                        key: i,\r\n                        touchEvents: result[0][i],\r\n                        totalClicks: result[1][i],\r\n                        clickRate: `${result[2][i]} (${result[3][i] * 100 + '%'})`,\r\n                        durationDistr: <div id={`c${i}`} ></div>,\r\n                        stepLengthDistr: <div id={`C${i}`} ></div>,\r\n                        // durationDistr: result[4][i],\r\n                        // stepLengthDistr: result[5][i],\r\n                        valueRealization: result[6][i],\r\n                        contributionRate: result[7][i]\r\n                    }\r\n                    )\r\n                }\r\n            }\r\n            return data\r\n        }\r\n        update = update.bind(this)\r\n        let data = update();\r\n        this.setState({\r\n            data\r\n        })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        console.log(123123123)\r\n        const result = this.props.resultData\r\n        //转化时长\r\n        for (let i = 1; i <= 10; i++) {\r\n            console.log(result[4][0][0])\r\n            const data = [\r\n                { year: '1991', value: result[4][i-1][0]},\r\n                { year: '1992', value: result[4][i-1][1] },\r\n                { year: '1993', value: result[4][i-1][2] },\r\n                { year: '1994', value: result[4][i-1][3] },\r\n                { year: '1995', value: result[4][i-1][4] },\r\n                { year: '1996', value: result[4][i-1][5] },\r\n                { year: '1997', value: result[4][i-1][6] },\r\n                { year: '1998', value: result[4][i-1][7] },\r\n                { year: '1999', value: result[4][i-1][8] },\r\n                { year: '1999', value: result[4][i-1][9] }\r\n            ];\r\n            const chart = new Chart({\r\n                container: `c${i}`,\r\n                autoFit: true,\r\n                height: 100,\r\n            });\r\n\r\n            chart.data(data);\r\n\r\n            chart.tooltip({\r\n                showMarkers: false,\r\n            });\r\n\r\n            chart.interval().position('year*value');\r\n\r\n            chart.interaction('element-active');\r\n\r\n            chart.render();\r\n        }\r\n        //转化步长\r\n        for (let i = 1; i <= 10; i++) {\r\n            const data = [\r\n                { year: '1991', value: 3 },\r\n                { year: '1992', value: 4 },\r\n                { year: '1993', value: 3.5 },\r\n                { year: '1994', value: 5 },\r\n                { year: '1995', value: 4.9 },\r\n                { year: '1996', value: 6 },\r\n                { year: '1997', value: 7 },\r\n                { year: '1998', value: 9 },\r\n                { year: '1999', value: 13 },\r\n            ];\r\n            const chart = new Chart({\r\n                container: `C${i}`,\r\n                autoFit: true,\r\n                height: 100,\r\n            });\r\n\r\n            chart.data(data);\r\n\r\n            chart.tooltip({\r\n                showMarkers: false,\r\n            });\r\n\r\n            chart.interval().position('year*value');\r\n\r\n            chart.interaction('element-active');\r\n\r\n            chart.render();\r\n        }\r\n\r\n    }\r\n\r\n    showColumn = () => {\r\n        return (\r\n            <>\r\n                <ColumnGroup title=\"待归因事件\">\r\n                    <Column title=\"触点事件\" dataIndex=\"touchEvents\" key=\"touchEvents\" />\r\n                </ColumnGroup>\r\n                <ColumnGroup title=\"点击规模\">\r\n                    <Column title=\"总点击数\" dataIndex=\"totalClicks\" key=\"totalClicks\" />\r\n                    <Column title=\"有效点击率\" dataIndex=\"clickRate\" key=\"clickRate\" />\r\n                </ColumnGroup>\r\n                <ColumnGroup title=\"转化分布\">\r\n                    <Column title=\"转化时长分布\" dataIndex=\"durationDistr\" key=\"durationDistr\" />\r\n                    <Column title=\"转化步长分布\" dataIndex=\"stepLengthDistr\" key=\"stepLengthDistr\" />\r\n                </ColumnGroup>\r\n                <ColumnGroup title=\"目标转化\">\r\n                    <Column title=\"实现价值\" dataIndex=\"valueRealization\" key=\"valueRealization\" />\r\n                    <Column title=\"贡献率\" dataIndex=\"contributionRate\" key=\"contributionRate\" />\r\n                </ColumnGroup>\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Table\r\n                    bordered={true}\r\n                    dataSource={this.state.data}\r\n                    className='reasult'\r\n                    pagination={{\r\n                        position: ['bottomCenter'],\r\n                        pageSize: 10,\r\n                        // 只有一页是不显示分页按钮\r\n                        hideOnSinglePage: true,\r\n                        onChange: function (page) {\r\n                            console.log(page)\r\n                            setTimeout(function  () {\r\n                                //转化时长分布\r\n                                for (let i = (page - 1) * 10 + 1; i <= page * 10; i++) {\r\n                                    const data = [\r\n                                        { year: '1991', value: 3 },\r\n                                        { year: '1992', value: 4 },\r\n                                        { year: '1993', value: 3.5 },\r\n                                        { year: '1994', value: 5 },\r\n                                        { year: '1995', value: 4.9 },\r\n                                        { year: '1996', value: 6 },\r\n                                        { year: '1997', value: 7 },\r\n                                        { year: '1998', value: 9 },\r\n                                        { year: '1999', value: 13 },\r\n                                    ];\r\n                                    const chart = new Chart({\r\n                                        container: `c${i}`,\r\n                                        autoFit: true,\r\n                                        height: 100,\r\n                                    });\r\n\r\n                                    chart.data(data);\r\n\r\n                                    chart.tooltip({\r\n                                        showMarkers: false,\r\n                                    });\r\n\r\n                                    chart.interval().position('year*value');\r\n\r\n                                    chart.interaction('element-active');\r\n\r\n                                    chart.render();\r\n\r\n                                }\r\n                                //转化步长分布\r\n                                for (let i = (page - 1) * 10 + 1; i <= page * 10; i++) {\r\n                                    const data = [\r\n                                        { year: '1991', value: 3 },\r\n                                        { year: '1992', value: 4 },\r\n                                        { year: '1993', value: 3.5 },\r\n                                        { year: '1994', value: 5 },\r\n                                        { year: '1995', value: 4.9 },\r\n                                        { year: '1996', value: 6 },\r\n                                        { year: '1997', value: 7 },\r\n                                        { year: '1998', value: 9 },\r\n                                        { year: '1999', value: 13 },\r\n                                    ];\r\n                                    const chart = new Chart({\r\n                                        container: `C${i}`,\r\n                                        autoFit: true,\r\n                                        height: 100,\r\n                                    });\r\n\r\n                                    chart.data(data);\r\n\r\n                                    chart.tooltip({\r\n                                        showMarkers: false,\r\n                                    });\r\n\r\n                                    chart.interval().position('year*value');\r\n\r\n                                    chart.interaction('element-active');\r\n\r\n                                    chart.render();\r\n\r\n                                }\r\n                            },0)\r\n                        }\r\n                    \r\n                    }}\r\n                    scroll={{\r\n                    y: 290\r\n                }}\r\n                    tableLayout='fixed'\r\n                    style={{ minWidth: 700 }}\r\n                >\r\n                {this.showColumn()}\r\n                </Table>\r\n            </Fragment >\r\n        )\r\n    }\r\n}\r\n\r\nexport default ReasultShow;"]},"metadata":{},"sourceType":"module"}